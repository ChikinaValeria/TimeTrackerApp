/* index.css */
:root {
--color-text: #1f2937;
--color-bg-light: #f9fafb;
--color-bg-white: #ffffff;
--color-shadow: rgba(0, 0, 0, 0.1);
--color-border: #e5e7eb;
--color-danger: #ef4444; /* Added red color for delete button */
--color-danger-hover: #dc2626; /* Darker red for hover */
--color-edit: #f97316; /* NEW: Orange color for Edit button */
--color-edit-hover: #ea580c; /* NEW: Darker orange for Edit hover */
--color-confirm-bg: #4ade80; /* Green for 'Yes' button */
--color-confirm-hover: #22c55e; /* Darker green for 'Yes' button hover */
--color-save-btn: #ffffff; /* NEW: White color for Save button */
--color-save-text: #1f2937; /* NEW: Text color for Save button */
--color-cancel-btn: #9ca3af; /* NEW: Gray color for Cancel button in edit */
--color-add-btn: #10b981; /* NEW: Bright green color for Add new task button */
--color-add-btn-hover: #059669; /* NEW: Darker green for hover */

font-family: 'Inter', sans-serif;
}

body {
margin: 0;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}

/* Dark theme support (simple example using prefers-color-scheme) */
@media (prefers-color-scheme: dark) {
:root {
--color-text: #f9fafb;
--color-bg-light: #1f2937;
--color-bg-white: #374151;
--color-shadow: rgba(255, 255, 255, 0.1);
--color-border: #4b5563;
}

.main-container {
background-color: var(--color-bg-white);
}

.view-content-box {
background-color: var(--color-bg-light);
}

.task-card, .modal-content, .tag-card,
.summary-form-container, .summary-table th, .summary-table td { /* UPDATED for dark theme */
background-color: var(--color-bg-white);
}

.task-card.is-active {
    /* Dark theme: HSL(120, 30%, 20%) - Darker Pale Green */
    background-color: hsl(120, 30%, 20%);
}

.save-button {
color: var(--color-save-text); /* Ensure save button text is visible in dark mode */
}

.yes-button {
color: var(--color-text);
}

/* Ensure new button colors look good in dark mode */
.add-task-button {
color: var(--color-bg-white);
}

/* Dark theme adjustments for filters */
.filter-tag {
    background-color: var(--color-bg-white);
    border-color: var(--color-border);
    color: var(--color-text);
}

.filter-tag:hover {
    background-color: #4b5563;
    border-color: #6b7280;
}

.filter-tag.active {
    background-color: #3b82f6;
    color: var(--color-bg-white);
    border-color: #3b82f6;
}

.clear-filter-button {
    background-color: #4b5563;
    color: var(--color-text);
}

.clear-filter-button:hover:not(:disabled) {
    background-color: #6b7280;
}
}

.app-wrapper {
min-height: 100vh;
background-color: var(--color-bg-light);
padding: 40px 16px;
}

.main-container {
max-width: 900px;
margin: 0 auto;
background-color: var(--color-bg-white);
padding: 32px;
border-radius: 12px;
box-shadow: 0 10px 15px -3px var(--color-shadow);
}

.app-title {
font-size: 2.25rem;
font-weight: bold;
margin-bottom: 32px;
text-align: center;
color: var(--color-text);
}

.nav-menu {
margin-bottom: 32px;
border-bottom: 1px solid var(--color-border);
}

.nav-list {
display: flex;
list-style: none;
padding: 0;
margin: 0;
gap: 8px;
}

.nav-link {
display: block;
padding: 10px 16px;
font-size: 1.125rem;
text-decoration: none;
border-radius: 8px 8px 0 0;
transition: all 0.2s;
background-color: var(--color-bg-light);
color: var(--color-text);
border-bottom: 4px solid transparent;
}

.nav-link:hover {
background-color: var(--color-border);
}

/* Assuming a primary color variable is defined elsewhere or using a default color */
.nav-link.active {
background-color: var(--color-bg-white);
color: var(--color-text); /* Using text color as a fallback for primary */
border-bottom-color: #3b82f6; /* Example color */
box-shadow: 0 -2px 5px -2px var(--color-shadow);
}

.view-content-box {
padding: 32px;
background-color: var(--color-bg-light);
border-radius: 8px;
box-shadow: inset 0 2px 4px 0 var(--color-shadow);
color: var(--color-text);
}

/* ------------------------------------------- */
/* СТИЛИ ЗАДАЧ И КНОПКИ 'ADD NEW TASK' */
/* ------------------------------------------- */

/* Контейнер для заголовка и кнопки "Add new task" */
.task-view-header {
display: flex;
justify-content: space-between; /* Размещает заголовок слева, кнопку справа */
align-items: center;
margin-bottom: 16px;
}

.view-title {
font-size: 1.5rem;
font-weight: 600;
margin-top: 0;
margin-bottom: 0; /* Убираем лишний отступ */
color: var(--color-text);
}

/* Стили для кнопки Add New Task */
.add-task-button {
background-color: var(--color-add-btn); /* Ярко-зеленый */
color: var(--color-bg-white);
border: none;
padding: 10px 18px;
border-radius: 9999px; /* Полностью скругленные углы */
cursor: pointer;
font-size: 1rem;
font-weight: 600;
transition: background-color 0.2s;
flex-shrink: 0;
}

.add-task-button:hover {
background-color: var(--color-add-btn-hover);
}

.view-text {
font-size: 1.125rem;
margin-top: 0;
}

.tasks-list {
display: flex;
flex-direction: column;
gap: 16px;
margin-top: 24px;
}

/* ------------------------------------------- */
/* TaskCard Стили (MODIFIED for D&D VISUAL & ACTIVITY STATUS) */
/* ------------------------------------------- */

/* Стили для визуального элемента Task Card */
.task-card {
    background-color: var(--color-bg-white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 6px -1px var(--color-shadow); /* Тень */
    border-left: 5px solid hsl(60, 91%, 60%); /* Цветная левая граница (желтый по умолчанию) */
    color: var(--color-text);
    transition: background-color 0.3s, opacity 0.2s; /* Added transition for smoother visual change */

    /* Flexbox для расположения содержимого (контент слева, кнопки справа) */
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Changed from center to handle wrapping better */
    flex-wrap: nowrap; /* Prevent overall wrapping by default */
    gap: 16px; /* Add gap between content and actions */

    /* D&D: Set cursor to indicate draggable */
    cursor: grab;

    /* Ensure card fits in viewport */
    max-width: 100%;
    box-sizing: border-box;
}

/* Active Task Card Style (Pale Green) */
.task-card.is-active {
    /* Pale green color, using HSL for easy adjustment in light/dark themes */
    /* Light theme: HSL(120, 50%, 90%) - Pale Green */
    background-color: hsl(120, 50%, 90%);
    border-left: 5px solid hsl(120, 70%, 50%); /* Stronger green border */
}

/* D&D: Change cursor when dragging starts */
.task-card:active {
    cursor: grabbing;
}

/* D&D: Styles for the element that is the source of the drag operation */
.task-card.is-dragging-source {
    /* Set opacity to make the original box visible but faint */
    opacity: 0.4;
    border: 2px dashed #9ca3af; /* Add a dashed border to mark it */
    border-left: 5px solid #9ca3af; /* Change border color too */
}

/* NEW: Status indicator plaque */
.task-status-plaque {
    padding: 2px 8px;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    /* Увеличенный отступ слева для отделения от названия */
    margin-left: 15px;
    flex-shrink: 0;
}

.status-active {
    background-color: #22c55e; /* Bright Green */
    color: var(--color-bg-white);
}

.status-inactive {
    background-color: var(--color-cancel-btn); /* Gray (using existing var) */
    color: var(--color-bg-white);
}


/* Контейнер для имени и тегов, чтобы сгруппировать их */
.task-content {
    flex: 1 1 auto; /* grow | shrink | basis */
    min-width: 0; /* Allow content to shrink below its preferred width */
    max-width: calc(100% - 120px); /* Reserve space for buttons (~120px) */
    padding-right: 0; /* Remove padding since we use gap */
}

.task-name {
    font-size: 1.25rem;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 5px;
    color: var(--color-text);
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

/* Стили для Additional Data */
.additional-data {
font-size: 1rem;
font-weight: 400;
color: var(--color-text);
margin-top: 0;
margin-bottom: 12px;
word-wrap: break-word;
}

.task-tags {
display: flex;
flex-wrap: wrap;
gap: 8px;
}

.task-tag {
display: inline-block;
background-color: hwb(60 55% 6%);
color: hsl(31, 91%, 37%);
padding: 4px 10px;
border-radius: 9999px;
font-size: 0.875rem;
font-weight: 500;
text-transform: capitalize;
}

/* Контейнер для кнопок действий */
.task-actions {
    display: flex;
    flex: 0 0 auto; /* Don't grow, don't shrink, auto basis */
    gap: 8px;
    align-items: center;
    flex-wrap: nowrap; /* Keep buttons in a row */
    min-width: fit-content; /* Ensure buttons don't compress too much */
}

/* Базовые стили для кнопок действий */
.edit-button,
.delete-button,
.start-button, /* NEW */
.stop-button { /* NEW */
border: none;
padding: 10px 18px;
border-radius: 8px;
cursor: pointer;
font-size: 1rem;
font-weight: 600;
transition: background-color 0.2s;
flex-shrink: 0;
}

/* Стили для кнопки Edit (Оранжевый) */
.edit-button {
background-color: var(--color-edit);
color: var(--color-bg-white);
}

.edit-button:hover {
background-color: var(--color-edit-hover);
}

/* Стили для кнопки Delete (Красный) */
.delete-button {
background-color: var(--color-danger);
color: var(--color-bg-white);
}

.delete-button:hover {
background-color: var(--color-danger-hover);
}

/* NEW: Start/Stop buttons */
.start-button {
    background-color: #22c55e; /* Bright Green */
    color: var(--color-bg-white);
}

.start-button:hover {
    background-color: #16a34a; /* Darker Green */
}

.stop-button {
    background-color: #f87171; /* Pale Red/Orange */
    color: var(--color-bg-white);
}

.stop-button:hover {
    background-color: #ef4444; /* Strong Red */
}


/* ------------------------------------------- */
/* TagCard Стили */
/* ------------------------------------------- */

.tags-list {
display: flex;
flex-direction: column;
gap: 12px; /* Slightly tighter gap than tasks */
margin-top: 16px;
}

/* Стили для визуального элемента Tag Card */
.tag-card {
/* Inherits basic styling from task-card's idea but with smaller padding (half the height) */
background-color: var(--color-bg-white);
padding: 10px 20px; /* Half the vertical padding of task-card (20px) */
border-radius: 8px;
box-shadow: 0 2px 4px 0 var(--color-shadow); /* Lighter shadow */
border-left: 5px solid #3b82f6; /* Example color for tag cards */
color: var(--color-text);
display: flex;
justify-content: space-between; /* Added to push actions to the right */
align-items: center;
}

.tag-content {
flex-grow: 1;
display: flex;
align-items: baseline;
gap: 15px; /* Spacing between name and ID */
padding-right: 15px; /* Spacing before actions */
}

.tag-name {
font-size: 1.125rem; /* Slightly smaller font than task-name (1.25rem) */
font-weight: 700;
margin: 0;
}

.tag-id {
font-size: 0.9rem;
font-weight: 400;
color: #6b7280; /* Gray color for ID */
margin: 0;
}

.tag-additional-data {
font-size: 0.9rem;
font-weight: 400;
color: var(--color-text);
margin: 0 0 0 auto; /* Pushes additional data to the right */
}

/* Container for tag actions (to align buttons) */
.tag-actions {
display: flex;
flex-shrink: 0;
gap: 8px; /* Gap between buttons */
align-items: center;
}

/* Adjust delete and edit button size for the smaller tag card */
.tag-actions .delete-button,
.tag-actions .edit-button { /* Applied to both edit and delete */
    padding: 8px 14px;
    font-size: 0.9rem;
}


/* ------------------------------------------- */
/* Стили для Модальных окон (Modal) */
/* ------------------------------------------- */

.modal-backdrop {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.5);
display: flex;
justify-content: center;
align-items: center;
z-index: 1000;
}

.modal-content {
    background-color: var(--color-bg-white);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    width: 90%;
    color: var(--color-text);
    text-align: center; /* Для ConfirmationModal */
    box-sizing: border-box; /* Include padding in width calculation */
    overflow: hidden; /* Prevent content overflow */
}

/* Форма для модального окна редактирования/создания */
.edit-modal-content {
text-align: left; /* Для формы */
}

.edit-form {
display: flex;
flex-direction: column;
gap: 15px;
}

.form-group {
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-bottom: 10px;
}

.form-group label {
font-weight: 600;
margin-bottom: 5px;
}

.form-input {
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    font-size: 1rem;
    color: var(--color-text);
    background-color: var(--color-bg-white);
    width: 100%;
    box-sizing: border-box; /* Include padding in width */
    max-width: 100%; /* Prevent overflow */
}

.form-input:focus {
border-color: #3b82f6;
outline: none;
}

.char-limit-message {
font-size: 0.8rem;
color: #6b7280;
margin-top: 5px;
margin-bottom: 0;
padding-left: 2px;
}

.tag-display {
padding: 10px;
background-color: var(--color-bg-light);
border-radius: 4px;
font-size: 1rem;
color: var(--color-text);
}

.modal-title {
margin-top: 0;
font-size: 1.5rem;
color: var(--color-text);
}

.modal-message {
    font-size: 1.125rem;
    margin-bottom: 24px;
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
    max-width: 100%;
}

.modal-actions {
display: flex;
justify-content: flex-end; /* Для Edit/Create модальных окон */
gap: 15px;
margin-top: 25px;
}

/* Для ConfirmationModal, где кнопки центрированы */
.modal-content:not(.edit-modal-content) .modal-actions {
justify-content: center;
}

.modal-button {
padding: 10px 20px;
border: none;
border-radius: 6px;
cursor: pointer;
font-size: 1rem;
font-weight: 600;
transition: background-color 0.2s;
}

/* Стили для кнопок Save/Cancel в Edit/Create Modal */
.save-button {
background-color: var(--color-save-btn);
color: var(--color-save-text);
border: 1px solid var(--color-border);
}

.save-button:hover {
background-color: var(--color-border);
}

.cancel-button {
background-color: var(--color-cancel-btn);
color: var(--color-text);
border: 1px solid var(--color-cancel-btn);
}

.cancel-button:hover {
background-color: #6b7280;
color: var(--color-bg-white);
}

.yes-button {
background-color: var(--color-confirm-bg);
color: var(--color-text);
}

.yes-button:hover {
background-color: var(--color-confirm-hover);
}

.no-button {
background-color: var(--color-border);
color: var(--color-text);
}

.no-button:hover {
background-color: var(--color-shadow);
}


/* ------------------------------------------- */
/* Стили для TagAssignment в модальных окнах */
/* ------------------------------------------- */

.tag-assignment-container {
    padding: 15px 0;
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
}

.assigned-tags-group {
    margin-bottom: 20px;
}

.assigned-tags-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 10px;
    border: 1px dashed var(--color-border);
    border-radius: 4px;
    min-height: 40px;
    align-items: center;
}

.no-tags-message {
    font-style: italic;
    color: #6b7280;
    margin: 0;
    font-size: 0.9rem;
}

.assigned-tag-pill {
    display: inline-flex;
    align-items: center;
    background-color: #d1fae5; /* Light green/teal */
    color: #065f46; /* Dark green text */
    padding: 4px 8px;
    padding-right: 4px; /* Less padding on the button side */
    border-radius: 9999px;
    font-size: 0.85rem;
    font-weight: 500;
}

.remove-tag-button {
    background: none;
    border: none;
    color: #065f46;
    margin-left: 6px;
    padding: 2px 4px;
    cursor: pointer;
    font-size: 1rem;
    line-height: 1;
    border-radius: 50%;
    transition: background-color 0.2s;
}

.remove-tag-button:hover {
    background-color: #a7f3d0;
}

.add-tag-section {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--color-border);
}

.add-tag-label {
    font-weight: 600;
    display: block;
    margin-bottom: 10px;
}

.add-tag-inputs-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
}

.new-tag-fields {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
}

.tag-select-group {
    margin-bottom: 0;
}

.tag-select {
    width: 100%;
}

.new-tag-name-group, .new-tag-data-group {
    flex: 1; /* Distribute space evenly */
    margin-bottom: 0;
}

.new-tag-fields input {
    margin-bottom: 0; /* Remove default margin-bottom from form-group */
}

.or-separator {
    text-align: center;
    color: #6b7280;
    font-size: 0.9rem;
    font-weight: 500;
    margin: 5px 0;
}

/* Specific style for the Add Tag button (to place it easily) */
.add-tag-button {
    background-color: #3b82f6; /* Blue for Add Tag action */
    color: var(--color-bg-white);
    padding: 8px 15px;
    border-radius: 6px;
    width: 100%; /* Full width button */
}

.add-tag-button:hover {
    background-color: #2563eb;
}

/* Ensure the character limit message is placed correctly */
.new-tag-fields .char-limit-message {
    font-size: 0.75rem; /* Smaller font for limit message in compressed view */
    margin-top: 3px;
}

/* Make sure tag select is disabled correctly */
.tag-select:disabled, .new-tag-fields input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background-color: var(--color-bg-light);
}

/* Ensure form groups within new-tag-fields don't have excessive padding/margin */
.new-tag-fields .form-group {
    margin-bottom: 0;
}

/* ------------------------------------------- */
/* Стили для TagFilter */
/* ------------------------------------------- */

.tag-filter-container {
    padding: 15px 0 10px;
    border-top: 1px solid var(--color-border);
    margin-bottom: 10px;
}

.filter-label {
    font-weight: 600;
    display: block;
    margin-bottom: 10px;
    color: var(--color-text);
}

.tags-list-for-filter {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.filter-tag {
    /* Base style for clickable tag buttons */
    border: 1px solid #9ca3af; /* Light gray border */
    background-color: var(--color-bg-white);
    color: var(--color-text);
    padding: 6px 12px;
    border-radius: 9999px; /* Pill shape */
    cursor: pointer;
    transition: all 0.2s;
}

/* Hover effect */
.filter-tag:hover {
    background-color: #f3f4f6;
    border-color: #6b7280;
}

/* Active (selected) state */
.filter-tag.active {
    background-color: #3b82f6; /* Blue or primary color */
    color: var(--color-bg-white);
    border-color: #3b82f6;
    font-weight: 600;
}

/* Specific styling for the clear filter button (outside the tag list) */
.clear-filter-button {
    background-color: #d1d5db; /* Gray background */
    color: var(--color-text);
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 20px;
    transition: background-color 0.2s, opacity 0.2s;
}

.clear-filter-button:hover:not(:disabled) {
    background-color: #9ca3af;
}

/* Inactive (disabled) state when no filters are applied */
.clear-filter-button.inactive, .clear-filter-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.no-tasks-found {
    color: #6b7280;
    font-style: italic;
    margin-top: 20px;
}

/* ------------------------------------------- */
/* Стили для TaskActivitySummaryView и TagActivitySummaryView */
/* ------------------------------------------- */

/* Контейнер для формы сводки - возвращаем вертикальное расположение элементов */
.summary-form-container {
    padding: 20px;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    background-color: var(--color-bg-white);
    margin-bottom: 25px;

    /* Восстанавливаем блочный поток, чтобы элементы шли сверху вниз */
    display: block;
}

/* Сама форма - элементы внутри идут сверху вниз */
.summary-form {
    display: flex;
    flex-direction: column; /* Элементы идут по вертикали */
    gap: 15px; /* Промежуток между элементами */
    margin-bottom: 20px;
}

/* Группа полей для TaskActivitySummary (для Task/Tag Select, Date Select) */
.summary-form .form-group {
    /* Убеждаемся, что каждый элемент формы занимает всю ширину */
    width: 100%;
}

.summary-results-container {
    margin-top: 20px;
}

.summary-results h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--color-text);
}

.summary-results-empty {
    color: #6b7280;
    font-style: italic;
    margin-top: 20px;
}

/* Table styles for displaying summary data */
.summary-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    box-shadow: 0 1px 3px 0 var(--color-shadow);
    background-color: var(--color-bg-white);
    border-radius: 8px; /* Added border-radius to the table */
    overflow: hidden; /* Ensures border radius applies to headers */
}

.summary-table th, .summary-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--color-border);
}

.summary-table th {
    background-color: #e0f2f1; /* Light teal for header background */
    color: #0f766e; /* Darker teal text */
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9rem;
}

.summary-table tr:last-child td {
    border-bottom: none;
}

.summary-table tr:hover {
    background-color: #f0fdfa; /* Very light hover effect */
}

/* Total Row styling */
.summary-table .total-row {
    font-weight: 700;
    background-color: #d1fae5; /* Light green/teal for total row */
    border-top: 2px solid #047857;
}

/* Specific button for generating summary (Recalculate Summary) */
.generate-summary-button {
    background-color: #3b82f6; /* Blue, similar to 'Add Tag' button */
    color: var(--color-bg-white);
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: background-color 0.2s;
    width: auto; /* Allow button to size naturally */
    align-self: flex-start; /* Align button to the left/start */
}

.generate-summary-button:hover:not(:disabled) {
    background-color: #2563eb;
}

.generate-summary-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* **НОВОЕ ДОПОЛНЕНИЕ ДЛЯ ПОЛЕЙ ДАТЫ/ВРЕМЕНИ** */
/* Обеспечиваем, чтобы поле было достаточно широким для секунд */
.summary-form input[type="datetime-local"] {
    /* Добавляем минимальную ширину, чтобы учесть 5-6 дополнительных символов (":ss") */
    min-width: 250px;
    /* Переопределяем ширину для инпутов типа datetime-local, чтобы не обрезались секунды */
    box-sizing: border-box;
    width: 100%; /* Сохраняем адаптивность, используя 100% от контейнера */
}

/* ------------------------------------------- */
/* Стили для TaskActivitySummaryView (OLD/EXISTING) */
/* ------------------------------------------- */
/* Ensure datetime-local inputs look good */
.summary-form .form-input {
    width: 100%;
    /* Override default browser styling if needed, but 'form-input' handles most */
}


/* ================================================= */
/* АДАПТИВНОСТЬ (RESPONSIVENESS) ДЛЯ ЭКРАНОВ МЕНЕЕ 600PX */
/* ================================================= */

@media (max-width: 600px) {
    /* 1.3: На основном вью не видна последняя вью Инфо (шапка) */
    .app-wrapper {
        padding: 20px 10px; /* Less padding on small screens */
    }

    .main-container {
        padding: 20px 15px; /* Less internal padding */
    }

    /* Make nav links stack or scroll horizontally */
    .nav-list {
        flex-wrap: nowrap; /* Prevent wrapping */
        overflow-x: auto; /* Allow horizontal scrolling */
        padding-bottom: 5px; /* Add space for scrollbar if needed */
        margin-bottom: -5px; /* Offset the padding-bottom above */
    }

    .nav-link {
        flex-shrink: 0; /* Prevent links from shrinking too much */
        font-size: 1rem;
        padding: 8px 12px;
    }


    /* 1.1: На вью Таскс кнопки съезжают с карточки таски */
    .task-card {
        flex-direction: column;
        align-items: stretch;
        padding: 15px;
        gap: 12px;
    }

    .task-content {
        width: 100%;
        max-width: 100%; /* Allow full width on mobile */
        margin-bottom: 0; /* Use gap instead */
    }

    .task-tags {
        margin-top: 10px; /* Ensure space below description */
    }

    .task-actions {
        width: 100%; /* Actions take full width */
        flex-wrap: wrap; /* Allow buttons to wrap if necessary */
        justify-content: space-between; /* Space out buttons */
    }

    /* Make buttons take up space more effectively, maybe 4 per row or full width */
    .task-actions .edit-button,
    .task-actions .delete-button,
    .task-actions .start-button,
    .task-actions .stop-button {
        flex-basis: calc(50% - 4px); /* Two buttons per row */
        padding: 8px 10px;
        text-align: center;
        font-size: 0.9rem;
        margin-top: 5px; /* Add small vertical gap if they wrap */
    }

    /* 1.4: На втю тегс кнопки съезжают с карточки тега */
    .tag-card {
        flex-direction: column; /* Stack content and actions vertically */
        align-items: flex-start;
        padding: 15px;
    }

    .tag-content {
        width: 100%;
        padding-right: 0;
        margin-bottom: 10px;
        flex-wrap: wrap;
    }

    .tag-actions {
        width: 100%;
        justify-content: flex-end; /* Keep buttons to the right/end */
    }

    /* 1.2, 1.5: Диалоговые окна не влезают в экран */
    .modal-content {
        max-width: 95%; /* Use almost full width */
        width: 95%;
        margin: 0 10px; /* Ensure margin from screen edges */
        padding: 20px; /* Reduced padding */
    }

    .edit-form {
        gap: 10px; /* Reduce gap in form */
    }

    .new-tag-fields {
        flex-direction: column; /* Stack name and data fields vertically */
        gap: 10px;
    }

    /* Ensure action buttons in modals flow better */
    .modal-actions {
        flex-direction: column; /* Stack save/cancel buttons vertically */
        gap: 10px;
    }

    .modal-button {
        width: 100%;
        padding: 10px 15px;
    }

    /* Summary View mobile adjustment: button should take full width */
    .generate-summary-button {
        width: 100%;
    }

    .summary-table th, .summary-table td {
        padding: 8px 10px; /* Less padding in the table */
        font-size: 0.8rem;
    }

    /* **НОВОЕ ДОПОЛНЕНИЕ ДЛЯ МОБИЛЬНЫХ** */
    /* Уменьшаем min-width на мобильных, чтобы избежать горизонтального скролла */
    .summary-form input[type="datetime-local"] {
        min-width: 100%;
    }
    /* End of @media (max-width: 600px) */
}